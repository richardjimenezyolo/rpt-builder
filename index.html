<!doctype html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Rpt builder</title>
    <link rel="stylesheet" href="public/pico.css">
    <script src="/public/alpine.js" defer></script>
    <style>
        html, body {
            height: 100vh;
        }

        .center {
            display: flex;
            align-items: center;
            align-content: center;
            justify-content: center;
            height: 100vh;
        }
    </style>
</head>
<body class="pico" x-data="index">
<main class="container">

    <div class="center">
        <article style="min-width: 600px; width: 40%; height: 80vh">
            <header>
                <strong>Rpt Builder</strong>
            </header>
            <div class="grid" style="height: 100%">
                <div style="display: flex; justify-content: center; flex-direction: column; gap: 1rem;">
                    <button @click="openPaperSize = !openPaperSize">Nuevo reporte</button>
                    <button @click="openFile">Cargar Archivo</button>
                </div>
                <div style="border-left: 1px solid #333; padding-top: 2rem; padding-left: 1rem" x-show="openPaperSize">

                    <div>
                        Seleccione el tipo de papel
                        <ul>
                            <li><a href="editor.html?paper=letter">Letter</a></li>
                            <li><a href="editor.html?paper=a4" class="secondary">A4</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </article>
    </div>
    <input type="file" style="display: none" x-ref="fileInput">
</main>

<script>
    document.addEventListener('alpine:init', () => {
        Alpine.data('index', () => ({
            openPaperSize: false,

            openFile() {
                this.$refs.fileInput.onchange = (ev) =>{
                    location.href = `/editor.html?path=${ev.target.value}`
                }
                this.$refs.fileInput.click()
            }
        }))
    })
</script>
</body>
</html>
